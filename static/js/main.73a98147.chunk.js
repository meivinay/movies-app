(this.webpackJsonpmoviesapp=this.webpackJsonpmoviesapp||[]).push([[0],{59:function(e,t,a){},61:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(33),i=a.n(n),c=a(17),r=a(5),o=a(6),l=a(8),h=a(7),j=a(13),p=a.n(j),u=(a(59),"https://api.themoviedb.org/3"),v="7cab9ea3170bca62eb51763f7f06c818",d="https://image.tmdb.org/t/p/original",m=a(16),b=a.n(m),g=a(18),O=(a(61),a(14)),f=a(0),x=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={movieDetails:{}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()("".concat(u,"/movie/ ").concat(this.props.movie.id,"?api_key=").concat(v));case 2:t=e.sent,a=t.data,s=d+a.poster_path,this.setState({movieDetails:Object(c.a)(Object(c.a)({},a),{},{poster_path:s})});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.movie,t=e.poster_path,a=e.title,s=e.vote_average,n=d+t;return Object(f.jsxs)("div",{className:"movies-item",children:[Object(f.jsx)("div",{className:"movies-poster",children:Object(f.jsx)(O.b,{to:{pathname:"./moviedetails",state:this.state.movieDetails},children:Object(f.jsx)("img",{src:n,alt:""})})}),Object(f.jsxs)("div",{className:"movies-details",children:[Object(f.jsx)("div",{className:"movies-title",children:a}),Object(f.jsx)("div",{className:"other-details",children:Object(f.jsxs)("div",{className:"movies-rating",children:["IMDB\xa0",s]})})]})]})}}]),a}(s.Component),y=(a(68),function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"movies",children:this.props.movie.map((function(e){return Object(f.jsx)(x,{movie:e},e.id)}))})}}]),a}(s.Component)),N=(a(69),function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={newMovieName:""},e.handleSearch=function(t){"Enter"===t.key&&e.props.setMovies(e.state.newMovieName)},e.handleOnChange=function(t){e.setState({newMovieName:t.target.value})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"header",children:[Object(f.jsx)("h2",{children:"Vinay Movies App"}),Object(f.jsx)("input",{type:"text",placeholder:"search",onChange:function(t){e.handleOnChange(t)},onKeyPress:function(t){e.handleSearch(t)}}),Object(f.jsxs)("div",{className:"header-links",children:[Object(f.jsx)("div",{className:"home-link",children:Object(f.jsx)(O.b,{to:"/moviesapp",children:"Home"})}),Object(f.jsx)("div",{className:"favourite-link",children:Object(f.jsx)(O.b,{to:"./fav",children:"Favourite"})})]})]})}}]),a}(s.Component)),k=(a(70),function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("nav",{children:Object(f.jsxs)("ul",{className:"pagination justify-content-center",children:[1===this.props.currPage?Object(f.jsx)("li",{className:"page-item disabled",children:Object(f.jsx)("a",{className:"page-link","aria-disabled":"true",children:"Previous"})}):Object(f.jsx)("li",{className:"page-item",onClick:function(){e.props.previousPage()},children:Object(f.jsx)("a",{className:"page-link",children:"Previous"})}),this.props.pages.map((function(t){return console.log(t+"el is"),e.props.currPage===t?Object(f.jsx)("li",{className:"page-item active",children:Object(f.jsx)("a",{className:"page-link",children:t})}):Object(f.jsx)("li",{className:"page-item",onClick:function(){e.props.setPage(t)},children:Object(f.jsx)("a",{className:"page-link",children:t})})})),this.props.currPage===this.props.pages.length?Object(f.jsx)("li",{className:"page-item disabled",children:Object(f.jsx)("a",{className:"page-link","aria-disabled":"true",children:"Next"})}):Object(f.jsx)("li",{className:"page-item",onClick:function(){e.props.nextPage()},children:Object(f.jsx)("a",{className:"page-link",children:"Next"})})]})})})}}]),a}(s.Component)),P=a(35),w=(a(82),function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={movieName:"",overview:"",tagline:"",rating:"",posterPath:"",moviesId:""},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a,s,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.location.state,e.next=3,p()("".concat(u,"/movie/").concat(t.id,"/videos?api_key=").concat(v,"&language=en-US"));case 3:a=e.sent,s=a.data.results,n=s.filter((function(e){return"Trailer"===e.type&&"YouTube"===e.site})),this.setState({movieName:t.title,overview:t.overview,tagline:t.tagline,rating:t.vote_average,posterPath:t.poster_path,moviesId:n[0]});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"movie-page",children:[Object(f.jsx)("div",{className:"movie-poster",children:Object(f.jsx)("img",{src:this.state.posterPath,alt:""})}),Object(f.jsxs)("div",{className:"movie-details",children:[Object(f.jsxs)("div",{className:"movie-name-overview",children:[Object(f.jsx)("h1",{children:this.state.movieName}),Object(f.jsx)("span",{children:Object(f.jsx)("h4",{children:this.state.tagline})}),Object(f.jsx)("span",{children:Object(f.jsx)("h6",{children:this.state.overview})}),Object(f.jsxs)("span",{children:["IMDB ",this.state.rating]})]}),Object(f.jsx)("div",{className:"movie-trailer",children:Object(f.jsx)(P.a,{videoId:this.state.moviesId.key,opts:{height:"100%",width:"100%",playerVars:{autoplay:1}}})})]})]})})}}]),a}(s.Component)),M=(a(83),function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(f.jsx)("h1",{className:"fav-contianer",children:"This is fav Component and Is Under Construction ;)"})}}]),a}(s.Component)),D=a(2),C=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={moviesData:[],defaultMovie:"avengers",pages:[],currPage:1},e.setMovies=function(t){p.a.get(u+"/search/movie",{params:{api_key:v,page:1,query:t}}).then((function(a){for(var s=a.data.total_pages,n=[],i=1;i<=s;i++)n.push(i);e.setState({moviesData:a.data.results,pages:n,defaultMovie:t,currPage:1})}))},e.setPage=function(t){console.log("pages "+e.state.pages),console.log("setting page"+t),p.a.get(u+"/search/movie",{params:{api_key:v,page:t,query:e.state.defaultMovie}}).then((function(a){e.setState({moviesData:a.data.results,currPage:t})}))},e.previousPage=function(){p.a.get(u+"/search/movie",{params:{api_key:v,page:e.state.currPage-1,query:e.state.defaultMovie}}).then((function(t){e.setState({moviesData:t.data.results,currPage:e.state.currPage-1})}))},e.nextPage=function(){p.a.get(u+"/search/movie",{params:{api_key:v,page:e.state.currPage+1,query:e.state.defaultMovie}}).then((function(t){e.setState({moviesData:t.data.results,currPage:e.state.currPage+1})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get(u+"/search/movie",{params:{api_key:v,page:1,query:this.state.defaultMovie}}).then((function(t){console.log("api data",t);for(var a=t.data.total_pages,s=[],n=1;n<=a;n++)s.push(n);e.setState(Object(c.a)(Object(c.a)({},e.state),{},{moviesData:t.data.results,pages:s}))}))}},{key:"render",value:function(){return console.log(this.state),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(O.a,{children:[Object(f.jsx)(N,{setMovies:this.setMovies}),Object(f.jsx)(D.c,{children:Object(f.jsx)(D.a,{exact:!0,path:"/moviesapp",children:this.state.moviesData.length>0?Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)(y,{movie:this.state.moviesData}),Object(f.jsx)(k,{setPage:this.setPage,previousPage:this.previousPage,nextPage:this.nextPage,pages:this.state.pages,currPage:this.state.currPage})]}):Object(f.jsx)("h1",{children:"Oops no movies found"})})}),Object(f.jsx)(D.c,{children:Object(f.jsx)(D.a,{exact:!0,path:"/fav",children:Object(f.jsx)(M,{})})}),Object(f.jsx)(D.c,{children:Object(f.jsx)(D.a,{exact:!0,path:"/moviedetails",component:w})})]})})}}]),a}(s.Component);i.a.render(Object(f.jsx)(C,{}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.73a98147.chunk.js.map