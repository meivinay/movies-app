{"version":3,"sources":["apikey.js","Component/Movie/Movie.jsx","Component/Movies/Movies.jsx","Component/Header/Header.jsx","Component/Pagination/Pagination.jsx","Component/MovieDetail/MovieDetail.jsx","Component/Favourite/Favourite.jsx","App.js","index.js"],"names":["API_URL","API_KEY","POSTER_URL","Movie","state","movieDetails","a","axios","this","props","movie","id","response","detailedMovieObj","data","posterPath","poster_path","setState","title","vote_average","className","to","pathname","src","alt","Component","Movies","map","movieObject","Header","newMovieName","handleSearch","e","key","setMovies","handleOnChange","target","value","type","placeholder","onChange","onKeyPress","Pagination","currPage","onClick","previousPage","pages","el","console","log","setPage","length","nextPage","MovieDetail","movieName","overview","tagline","rating","moviesId","movieObj","location","videoObj","results","filteredArr","filter","obj","site","videoId","opts","height","width","playerVars","autoplay","Favourite","App","moviesData","defaultMovie","get","params","api_key","page","query","then","apiData","pagesCount","total_pages","totalPages","i","push","newPage","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b8f8c6d5.chunk.js","sourcesContent":["export const API_URL = \"https://api.themoviedb.org/3\";\nexport const API_KEY = \"7cab9ea3170bca62eb51763f7f06c818\";\nexport const POSTER_URL = \"https://image.tmdb.org/t/p/original\";   \n","import React, { Component } from 'react';\nimport { API_KEY, API_URL, POSTER_URL } from '../../apikey';\nimport \"./Movie.css\";\nimport axios from 'axios';\nimport {Link} from \"react-router-dom\"\nclass Movie extends Component {\n    state = { \n        movieDetails:{}\n     }\nasync componentDidMount(){\n    \n   let response  = await axios(`${API_URL}/movie/ ${this.props.movie.id}?api_key=${API_KEY}`);\n   let detailedMovieObj = response.data;\n   let posterPath = POSTER_URL+detailedMovieObj.poster_path;\n   this.setState({movieDetails:{...detailedMovieObj, poster_path:posterPath}})\n}\n\n    render() { \n        let {poster_path, title, vote_average} = this.props.movie\n        \n        let posterPath = POSTER_URL+poster_path;\n        return (\n            <div className = \"movies-item\">\n                <div className =\"movies-poster\">\n                    <Link to ={{pathname:\"./moviedetails\" ,state:this.state.movieDetails}}>\n                <img src = {posterPath} alt=\"\"></img>\n                    </Link>\n                </div>\n                <div className=\"movies-details\">\n                    <div className = \"movies-title\">{title}</div>\n                    <div className =\"other-details\">\n                    <div className =\"movies-rating\">IMDB&nbsp;{vote_average}</div>\n                    </div>\n                </div>\n\n            </div>\n          );\n    }\n}\n \nexport default Movie","import React, { Component } from 'react';\nimport Movie from '../Movie/Movie';\nimport \"./Movies.css\"\n\n// this recieves props from App.js, it is redirecting props to a single Movie Component , this is called prop drilling\n// we can solve this(Props Drilling) using ContextApi or Redux\n\nclass Movies extends Component {\n  render() { \n        return (\n        <div className =\"movies\"> \n        {this.props.movie.map((movieObject) => {\n          return <Movie key={movieObject.id} movie={movieObject}></Movie>;\n        })}\n        </div> \n        );\n    }\n}\n \nexport default Movies;","import React, { Component } from 'react';\nimport \"./Header.css\"\nimport {Link} from \"react-router-dom\"\nclass Header extends Component {\n    state = { \n        newMovieName:\"\"\n     }\n    handleSearch = (e)=>{\n        if(e.key === \"Enter\"){\n            this.props.setMovies(this.state.newMovieName);\n        }\n    }\nhandleOnChange = (e)=>{\n    this.setState({newMovieName:e.target.value})\n}\n    render() { \n        return ( \n        <div className = \"header\">\n            <h2>Vinay Movies App</h2>  \n            <input type=\"text\" placeholder=\"search\" onChange={(e)=>{this.handleOnChange(e)}} onKeyPress={(e)=>{this.handleSearch(e)}} />\n            <div className= \"header-links\">\n                <div className = \"home-link\">\n                    <Link to=\"/movies-app\">Home</Link>\n                </div>\n                <div className = \"favourite-link\">\n                    <Link to = \"./fav\">Favourite</Link>\n                </div>\n            </div>\n        </div>\n    );}\n}\n \nexport default Header;","import React, { Component } from 'react';\nimport \"./Pagination.css\"\nclass Pagination extends Component {\n    state = {}\n    render() {\n        return (\n            <>\n                <nav >\n                    <ul className=\"pagination justify-content-center\">\n                        {this.props.currPage === 1 ? <li className=\"page-item disabled\"><a className=\"page-link\" aria-disabled=\"true\">Previous</a></li> \n                                                : <li className=\"page-item\"  onClick = {()=>{this.props.previousPage()}}><a className=\"page-link\">Previous</a></li> \n                        }\n                            {\n                            this.props.pages.map((el)=>{\n                                console.log(el+\"el is\");\n                                return (\n                                    // conditional rendering\n                                    this.props.currPage === el ? \n                                    <li className=\"page-item active\"><a className=\"page-link\" >{el}</a></li>      \n                                    :\n                                    <li className=\"page-item\" onClick = {()=>{\n                                        this.props.setPage(el)}}>\n                                    <a className=\"page-link\" >{el}</a></li>      \n                                    \n                                )\n                            })\n                        }\n\n                        {this.props.currPage === this.props.pages.length ? <li className=\"page-item disabled\"><a className=\"page-link\" aria-disabled=\"true\">Next</a></li>\n                                                                        : <li className=\"page-item\" onClick = {()=>{this.props.nextPage()}}><a className=\"page-link\">Next</a></li>\n                        }\n                    </ul>\n                </nav>\n            </>\n        );\n    }\n}\n\nexport default Pagination;","import React, { Component } from 'react';\nimport YoutTube from \"react-youtube\";\nimport \"./MovieDetail.css\";\nimport axios from 'axios';\nimport { API_KEY, API_URL } from '../../apikey';\nclass MovieDetail extends Component {\n    state = {\n        movieName: \"\",\n        overview: \"\",\n        tagline: \"\",\n        rating: \"\",\n        posterPath:\"\",\n        moviesId:\"\"\n    }\n    async componentDidMount() {\n        let movieObj = this.props.location.state;\n        //https://api.themoviedb.org/3/movie/736074/videos?api_key=7cab9ea3170bca62eb51763f7f06c818&language=en-US \n       \n        let response = await axios(`${API_URL}/movie/${movieObj.id}/videos?api_key=${API_KEY}&language=en-US`)\n        let videoObj = response.data.results;\n        let filteredArr =  videoObj.filter(obj=>{\n            if(obj.type === \"Trailer\" && obj.site === \"YouTube\"){\n                return true;\n            }\n            else{\n                return false;\n            }\n        })\n            // console.log(filteredArr);\n        this.setState({\n            movieName: movieObj.title, overview: movieObj.overview,\n            tagline: movieObj.tagline,\n            rating: movieObj.vote_average,\n            posterPath:movieObj.poster_path,\n            moviesId:filteredArr[0]\n        })\n    }\n    render() {\n        const opts = {\n            height: '100%',\n            width: '100%',\n            playerVars: {\n              // https://developers.google.com/youtube/player_parameters\n              autoplay: 1,\n            },\n          };\n        return (<>\n        <div className=\"movie-page\">\n            <div className = \"movie-poster\">\n            <img src={this.state.posterPath} alt=\"\"></img>\n            </div>\n          <div className=\"movie-details\">\n            <div className=\"movie-name-overview\">\n            <h1>{this.state.movieName}</h1>\n            <span><h4>\n                {this.state.tagline}\n            </h4>\n                </span>\n            <span>\n                <h6>\n                {this.state.overview}\n                </h6>\n                </span>\n            <span>\n                IMDB {this.state.rating}\n                </span>\n            </div>\n            <div className=\"movie-trailer\">\n            <YoutTube videoId={this.state.moviesId.key} opts={opts}>\n                \n            </YoutTube>\n            </div>\n        </div>\n          </div>\n        </>);\n    }\n}\n\nexport default MovieDetail;","import React, { Component } from 'react';\nimport './Favourite.css'\nclass Favourite extends Component {\n    state = {  }\n    render() { \n        return ( <h1 className='fav-contianer'>This is fav Component and Is Under Construction ;)</h1>  );\n    }\n}\n \nexport default Favourite;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport \"./index.css\"\nimport { API_KEY, API_URL } from './apikey';\nimport Movies from './Component/Movies/Movies';\nimport Header from './Component/Header/Header';\nimport Pagination from './Component/Pagination/Pagination';\nimport MovieDetail from './Component/MovieDetail/MovieDetail';\nimport Favourite from './Component/Favourite/Favourite';\nimport {BrowserRouter as Router , Route, Switch} from \"react-router-dom\"\n\n// Header ==> Header always visible\n// Movies ==> Simply return multiple \"Movie\"(Component) cards\n// Movie ==> A Single Card on Home Page .. show thumbnail, title, rating\n// movieDetail ==> Show Details of the Movie when \"Movie\" card thumbnail is clicked\n// Pagination ==> One time only 20 movies are returned by the api in one call, we have to make multiple calls to get all movies related to searched movie \nclass App extends Component {\n  state = {\n    moviesData: [],\n    defaultMovie: \"avengers\",\n    pages:[],\n    currPage:1\n  };\n  componentDidMount() {\n    //fetch api using api_key, page,query\n    // in 1 page max 20 movies\n    axios.get(API_URL + \"/search/movie\", {\n      params: { api_key: API_KEY, page: 1, query: this.state.defaultMovie }\n    }).then((apiData) => {\n      console.log('api data', apiData)\n      let pagesCount = apiData.data.total_pages;\n      let totalPages = []\n      for(let i =1; i<=pagesCount; i++){\n        totalPages.push(i);\n      }\n      this.setState({ ...this.state, moviesData: apiData.data.results, pages: totalPages});\n    })\n  }\n\n  setMovies = (newMovieName) => {\n    axios.get(API_URL + \"/search/movie\", {\n      params: { api_key: API_KEY, page: 1, query: newMovieName }\n    }).then((apiData) => {\n      let pagesCount = apiData.data.total_pages;\n      let totalPages = []\n      for(let i=1;i<=pagesCount;i++){\n        totalPages.push(i);\n      }\n      this.setState({ moviesData: apiData.data.results,pages:totalPages, defaultMovie:newMovieName, currPage:1 });\n    })\n  }\n\n  setPage = (newPage)=>{\n    console.log(\"pages \"+this.state.pages);\n    console.log(\"setting page\"+ newPage);\n    axios.get(API_URL + \"/search/movie\", {\n      params: { api_key: API_KEY, page: newPage, query: this.state.defaultMovie }\n    }).then((apiData) => {\n      this.setState({ moviesData: apiData.data.results, currPage:newPage});\n    })\n  }\n  previousPage = ()=>{\n    axios.get(API_URL + \"/search/movie\", {\n      params: { api_key: API_KEY, page: this.state.currPage-1, query: this.state.defaultMovie }\n    }).then((apiData) => {\n      this.setState({ moviesData: apiData.data.results, currPage:this.state.currPage-1});\n    })\n  }\n  nextPage = ()=>{\n    axios.get(API_URL + \"/search/movie\", {\n      params: { api_key: API_KEY, page: this.state.currPage+1, query: this.state.defaultMovie }\n    }).then((apiData) => {\n      this.setState({ moviesData: apiData.data.results, currPage:this.state.currPage+1});\n    })\n  }\n  render() {\n    console.log(this.state)\n    return (\n      <>\n       <Router>\n        <Header setMovies={this.setMovies}></Header>\n        <Switch >\n          <Route exact path=\"/movies-app\">\n        {\n          //conditonal render ... if api not working or wrong search than say movie not found\n          this.state.moviesData.length > 0 ? <> <Movies movie={this.state.moviesData}></Movies>\n           <Pagination setPage = {this.setPage} \n                       previousPage = {this.previousPage}\n                       nextPage = {this.nextPage}\n                       pages = {this.state.pages}\n                       currPage = {this.state.currPage}></Pagination></> \n                       :<h1>Oops no movies found</h1>\n        }\n          </Route>\n        </Switch>\n        <Switch >\n      <Route exact path=\"/fav\">\n          <Favourite></Favourite>\n      </Route>\n        </Switch>\n        <Switch>\n          <Route exact path=\"/moviedetails\" component={MovieDetail}></Route>\n        </Switch>                \n        </Router>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}